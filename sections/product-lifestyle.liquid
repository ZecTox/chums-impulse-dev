{% liquid
  assign img_class_base = 'product-lifestyle-layout--'
  assign img_class_name = img_class_base | append: product.metafields.custom.product_lifestyle_layout
%}
<div id="product-lifestyle-{{ section.id }}" class="product-lifestyle-container">
  {% for img in product.metafields.custom.product_lifestyle_images.value %}
    <div class="{{ img_class_name }}">
      {{ img | image_url: width: 1600 | image_tag }}
    </div>
  {% endfor %}
</div>

{% style %}
  .product-lifestyle-container {
  display: flex;
  flex-wrap: wrap;
  }

  .product-lifestyle-container img {
  width: 100%;
  max-width: 100%;
  height: auto;
  }

  {% case product.metafields.custom.product_lifestyle_layout %}
    {% when '1' %}
      .product-lifestyle-container .product-lifestyle-layout--1 {
        flex: 1 1 100%;
      }
    {% when '2' %}
      .product-lifestyle-container .product-lifestyle-layout--2 {
        flex: 1 1 50%;
      }
    {% when '3' %}
      .product-lifestyle-container .product-lifestyle-layout--3 {
      flex: 1 1 33%;
      }
    {% when '1-2' %}
      .product-lifestyle-container .product-lifestyle-layout--1-2:nth-child(1) {
        flex: 1 1 100%;
      }
      .product-lifestyle-container .product-lifestyle-layout--1-2:nth-child(2),
      .product-lifestyle-container .product-lifestyle-layout--1-2:nth-child(3){
        flex: 1 1 50%;
      }
    {% when '1-3' %}
      .product-lifestyle-container .product-lifestyle-layout--1-3:nth-child(1) {
        flex: 1 1 100%;
      }
      .product-lifestyle-container .product-lifestyle-layout--1-3:nth-child(2),
      .product-lifestyle-container .product-lifestyle-layout--1-3:nth-child(3),
      .product-lifestyle-container .product-lifestyle-layout--1-3:nth-child(4){
        flex: 1 1 33.333%;
      }
    {% when '2-1' %}
      .product-lifestyle-container .product-lifestyle-layout--2-1:nth-child(1),
      .product-lifestyle-container .product-lifestyle-layout--2-1:nth-child(2)
      {
        flex: 1 1 50%;
      }
      .product-lifestyle-container .product-lifestyle-layout--2-1:nth-child(3){
        flex: 1 1 100%;
      }
    {% when '2-3' %}
      .product-lifestyle-container .product-lifestyle-layout--2-3:nth-child(1),
      .product-lifestyle-container .product-lifestyle-layout--2-3:nth-child(2)
      {
        flex: 1 1 50%;
      }
      .product-lifestyle-container .product-lifestyle-layout--2-3:nth-child(3),
      .product-lifestyle-container .product-lifestyle-layout--2-3:nth-child(4),
      .product-lifestyle-container .product-lifestyle-layout--2-3:nth-child(5){
        flex: 1 1 33.333%;
      }
    {% when '3-1' %}
      .product-lifestyle-container .product-lifestyle-layout--3-1:nth-child(1),
      .product-lifestyle-container .product-lifestyle-layout--3-1:nth-child(2),
      .product-lifestyle-container .product-lifestyle-layout--3-1:nth-child(3){
        flex: 1 1 33.333%;
      }
      .product-lifestyle-container .product-lifestyle-layout--3-1:nth-child(4)
      {
        flex: 1 1 100%;
      }
    {% when '3-2' %}
      .product-lifestyle-container .product-lifestyle-layout--3-2:nth-child(1),
      .product-lifestyle-container .product-lifestyle-layout--3-2:nth-child(2),
      .product-lifestyle-container .product-lifestyle-layout--3-2:nth-child(3){
        flex: 1 1 33.333%;
      }
      .product-lifestyle-container .product-lifestyle-layout--3-2:nth-child(4),
      .product-lifestyle-container .product-lifestyle-layout--3-2:nth-child(5)
      {
        flex: 1 1 50%;
      }

  {% endcase %}









{% endstyle %}
{% schema %}
{
  "name": "product-lifestyle",
  "presets": [
    {
      "name": "product-lifestyle",
      "category": "custom"
    }
  ],
  "enabled_on": {
    "templates": [
      "product"
    ]
  }
}
{% endschema %}
